📘 Piclog – Effortless 타임라인 자동 기록 서비스 (MVP)

본 문서는 Piclog 개발의 SSOT(단일 기준 문서)이며, 모든 기능 개발은 이 문서를 기준으로 한다.

1. 서비스 개요

Piclog는 사용자가 업로드한 사진의 촬영 시간을 분석해
해당 시간대의 타임라인에 자동 배치하는 'Effortless 일상 기록 서비스'이다.

핵심 가치:

유저는 어떤 입력도 하지 않아도 됨 (Effortless)

사진만 업로드하면 하루 타임라인 완성

심플하고 직관적인 UI

MVP는 로그인 없이 Guest 모드로 동작

2. MVP 기능 범위
2.1 사진 업로드

웹 UI에서 사진 파일 1장 이상 업로드 가능

파일명에서 timestamp 추출 (예: 20231205_153012.jpg → 2023-12-05 15:30:12)

timestamp 기반으로 hour(0~23) 계산

동일 시간대에는 최대 3장까지만 저장 허용

Supabase Storage에 업로드 후 DB 기록 저장

2.2 타임라인 보여주기

24시간(00~23) 타임라인 UI 생성

각 시간대 슬롯에 사진 썸네일 표시

슬롯에 간단 텍스트 입력 가능

🔥 2.3 타임라인 꾸미기 기능 (추가)
✔ 2.3.1 사진 자유 배치 기능

유저는 업로드된 사진을 타임라인 위에서 자유롭게 조작할 수 있다:

사진 이동 (Drag & Drop)

사진 확대/축소 (Pinch / Scale)

사진 회전 (Rotate)

시간대 슬롯 내부뿐 아니라 타임라인 영역 내 자유 배치 허용

⚠️ 이 기능은 타임라인 꾸미기 UX를 위해 필요하며,
슬롯 정렬 기반의 기본 타임라인 구조 위에서 작동하는 “레이어 기능”으로 구현한다.

✔ 2.3.2 텍스트 입력 및 꾸미기 기능

유저는 타임라인 위에 텍스트를 자유롭게 추가할 수 있음

텍스트 스타일:

이동 가능 (Drag & Drop)

확대/축소 가능

회전 가능

사진과 동일하게 “꾸미기 요소”로 취급

✔ 2.3.3 사진 배경 제거(누끼 기능)

업로드된 사진은 선택적으로 배경제거 기능(Background Removal) 적용 가능

배경 제거된 이미지는 스티커 형태로 타임라인에 추가 가능

누끼 처리 방식:

Python 또는 외부 라이브러리 활용

웹 UI에서 “배경 제거하기” 버튼 제공

유저는 원본 / 누끼 버전을 선택하여 배치할 수 있음

3. Supabase 사양
테이블: photos
필드명	타입	설명
id	uuid	PK
file_url	text	사진 파일 URL
timestamp	timestamptz	촬영 시간
hour	int	0~23
user_id	text	Guest UUID

Storage:

bucket 이름: photos

public 읽기 허용

개발 단계: RLS OFF

4. API 스펙
POST /api/photos/upload

Request

formData: file

Response

성공: { success: true, data: photoItem }

실패: { success: false, message }

로직

formData → file 가져오기

파일명에서 timestamp 추출

시간대별 3장 초과 체크

Storage 업로드

DB insert

결과 반환

5. 프론트엔드 구조
컴포넌트

UploadBox → 파일 업로드 UI

Timeline → 24시간 타임라인 표시

TimelineSlot → 시간별 슬롯

(추가) StickerLayer → 사진/텍스트 이동·회전·확대용 레이어

6. 금지 규칙 (Claude Code 필수)

본 문서에 없는 기능 절대 생성 금지

불필요한 파일, 폴더 생성 금지

새 파일이 필요하다면 반드시 사용자에게 먼저 질문

기존 파일 구조 임의 변경 금지

UI 구성은 첨부된 기본 UI 이미지, 디자인 참고 이미지를 기준으로 한다

7. 확장 기능 (지금 구현하지 않음)

자동 갤러리 크롤링

계정 시스템

고급 스티커 기능

SNS 공유

✨ UI 디자인 기준 (추가)

UI는 반드시 아래 두 이미지를 준수하여 제작한다:

기본 UI 이미지 (타임라인 스타일)

디자인 참고 이미지 (레이아웃·색감·컴포넌트 스타일)

디자인 핵심 규칙:

타임라인 중심 레이아웃

밝고 깨끗한 배경

시간대와 콘텐츠 간 명확한 간격

사진·텍스트·스티커가 자연스럽게 놓일 수 있는 여백

모바일 앱 UI와 유사한 감성적 구성